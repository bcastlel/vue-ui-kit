{"version":3,"sources":["webpack:///./src/views/Modal.vue?d755","webpack:///./src/components/AModal.vue?7b86","webpack:///./src/components/AModal.vue","webpack:///./src/components/AModal.vue?1e54","webpack:///./src/components/AModal.vue?512b","webpack:///./src/views/Modal.vue","webpack:///./src/views/Modal.vue?0906","webpack:///./src/views/Modal.vue?4c31","webpack:///./src/components/AModal.vue?cefb"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","on","$event","basicUsageModalVisible","_v","proxy","customTransitionModalVisible","hideCloseButtonModalVisible","_s","loremIpsum","_e","staticRenderFns","_b","ref","class","className","contentClass","type","indexOf","_k","keyCode","close","apply","arguments","scopeAttrs","emitClose","visible","staticClass","transition","_t","hideCloseButton","CLASS_NAME","DEFAULT_TRANSITION","Vue","extend","name","components","Portal","CloseIcon","props","String","default","Boolean","data","computed","scopeAttr","$vnode","context","$options","_scopeId","mounted","$nextTick","focusIn","$refs","modal","methods","modalElements","document","getElementsByClassName","currentModalElement","length","$emit","modalElement","focusableElement","getFocusableElement","focus","component","ComponentPage","ComponentUsageExample","AButton","AModal","SHORT_LOREM_IPSUM"],"mappings":"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","file":"js/views/Modal.53c5ea3e.js","sourcesContent":["var render = function () {\n  var _vm=this;\n  var _h=_vm.$createElement;\n  var _c=_vm._self._c||_h;\n\n  return _c('component-page', {\n    attrs: {\n      \"title\": \"Modal\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"basicUsage\",\n      fn: function fn() {\n        return [_c('a-button', {\n          on: {\n            \"click\": function click($event) {\n              _vm.basicUsageModalVisible = true;\n            }\n          }\n        }, [_vm._v(\" Show modal \")])];\n      },\n      proxy: true\n    }])\n  }, [_c('component-usage-example', {\n    attrs: {\n      \"caption\": \"Custom transition\"\n    }\n  }, [_c('a-button', {\n    on: {\n      \"click\": function click($event) {\n        _vm.customTransitionModalVisible = true;\n      }\n    }\n  }, [_vm._v(\" Show modal \")])], 1), _c('component-usage-example', {\n    attrs: {\n      \"caption\": \"Hide close button\"\n    }\n  }, [_c('a-button', {\n    on: {\n      \"click\": function click($event) {\n        _vm.hideCloseButtonModalVisible = true;\n      }\n    }\n  }, [_vm._v(\" Show modal \")])], 1), _vm.basicUsageModalVisible ? _c('a-modal', {\n    on: {\n      \"close\": function close($event) {\n        _vm.basicUsageModalVisible = false;\n      }\n    }\n  }, [_vm._v(\" \" + _vm._s(_vm.loremIpsum) + \" \")]) : _vm._e(), _vm.customTransitionModalVisible ? _c('a-modal', {\n    attrs: {\n      \"transition\": \"scale\"\n    },\n    on: {\n      \"close\": function close($event) {\n        _vm.customTransitionModalVisible = false;\n      }\n    }\n  }, [_vm._v(\" \" + _vm._s(_vm.loremIpsum) + \" \")]) : _vm._e(), _vm.hideCloseButtonModalVisible ? _c('a-modal', {\n    attrs: {\n      \"hide-close-button\": \"\"\n    },\n    on: {\n      \"close\": function close($event) {\n        _vm.hideCloseButtonModalVisible = false;\n      }\n    }\n  }, [_vm._v(\" \" + _vm._s(_vm.loremIpsum) + \" \")]) : _vm._e()], 1);\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\n  var _vm=this;\n  var _h=_vm.$createElement;\n  var _c=_vm._self._c||_h;\n\n  return _c('portal', [_c('div', _vm._b({\n    ref: \"modal\",\n    class: [_vm.className, _vm.contentClass],\n    attrs: {\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"keydown\": function keydown($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])) { return null; }\n        return _vm.close.apply(null, arguments);\n      }\n    }\n  }, 'div', _vm.scopeAttrs, false), [_c('transition', {\n    attrs: {\n      \"name\": \"fade\",\n      \"appear\": \"\"\n    },\n    on: {\n      \"after-leave\": _vm.emitClose\n    }\n  }, [_vm.visible ? _c('div', {\n    staticClass: \"modal__overlay\",\n    on: {\n      \"click\": _vm.close\n    }\n  }) : _vm._e()]), _c('transition', {\n    attrs: {\n      \"name\": _vm.transition,\n      \"appear\": \"\"\n    }\n  }, [_vm.visible ? _c('div', {\n    staticClass: \"modal__base\"\n  }, [_c('div', {\n    staticClass: \"modal__content\"\n  }, [_vm._t(\"default\", null, {\n    \"onClose\": _vm.close\n  })], 2), !_vm.hideCloseButton ? _c('button', {\n    staticClass: \"modal__close\",\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.close\n    }\n  }, [_c('close-icon', {\n    staticClass: \"modal__close-icon\"\n  })], 1) : _vm._e()]) : _vm._e()])], 1)]);\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Portal } from '@linusborg/vue-simple-portal';\nimport CloseIcon from '@/assets/close.svg';\nimport { getFocusableElement } from '@/utils/get-focusable-element';\nimport { ComponentOptionsWithScopeId, ComponentScopeAttrs } from '@/models/common';\n\nconst CLASS_NAME = 'modal';\nconst DEFAULT_TRANSITION = 'fade';\n\ninterface Data {\n  visible: boolean;\n}\n\nexport default Vue.extend({\n  name: 'AModal',\n  components: {\n    Portal,\n    CloseIcon,\n  },\n  props: {\n    contentClass: { type: String, default: '' },\n    hideCloseButton: Boolean,\n    transition: { type: String, default: DEFAULT_TRANSITION },\n  },\n  data(): Data {\n    return {\n      visible: true,\n    };\n  },\n  computed: {\n    className(): typeof CLASS_NAME {\n      return CLASS_NAME;\n    },\n    // see https://github.com/LinusBorg/portal-vue/issues/263\n    scopeAttrs(): ComponentScopeAttrs {\n      const scopeAttr = (this.$vnode.context?.$options as ComponentOptionsWithScopeId)._scopeId;\n      return scopeAttr ? { [scopeAttr]: '' } : null;\n    },\n  },\n  mounted() {\n    this.$nextTick(() => this.focusIn(this.$refs.modal as HTMLElement));\n  },\n  methods: {\n    close(): void {\n      this.visible = false;\n    },\n    emitClose(): void {\n      const modalElements = document.getElementsByClassName(this.className);\n      const currentModalElement = modalElements[modalElements.length - 2] as HTMLElement | undefined;\n\n      this.$emit('close');\n\n      if (currentModalElement) {\n        this.$nextTick(() => this.focusIn(currentModalElement));\n      }\n    },\n    focusIn(modalElement: HTMLElement): void {\n      const focusableElement = getFocusableElement(modalElement);\n\n      if (focusableElement) {\n        focusableElement.focus();\n      } else {\n        modalElement.focus();\n      }\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AModal.vue?vue&type=template&id=565d929c&scoped=true&\"\nimport script from \"./AModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AModal.vue?vue&type=style&index=0&id=565d929c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"565d929c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport ComponentPage from '@/components/page-constructor/ComponentPage.vue';\nimport ComponentUsageExample from '@/components/page-constructor/ComponentUsageExample.vue';\nimport AButton from '@/components/AButton.vue';\nimport AModal from '@/components/AModal.vue';\nimport { SHORT_LOREM_IPSUM } from '@/config';\n\ninterface Data {\n  basicUsageModalVisible: boolean;\n  customTransitionModalVisible: boolean;\n  hideCloseButtonModalVisible: boolean;\n}\n\nexport default Vue.extend({\n  name: 'Modal',\n  components: {\n    ComponentPage,\n    ComponentUsageExample,\n    AButton,\n    AModal,\n  },\n  data(): Data {\n    return {\n      basicUsageModalVisible: false,\n      customTransitionModalVisible: false,\n      hideCloseButtonModalVisible: false,\n    };\n  },\n  computed: {\n    loremIpsum(): typeof SHORT_LOREM_IPSUM {\n      return SHORT_LOREM_IPSUM;\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=23755638&\"\nimport script from \"./Modal.vue?vue&type=script&lang=ts&\"\nexport * from \"./Modal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AModal.vue?vue&type=style&index=0&id=565d929c&lang=scss&scoped=true&\""],"sourceRoot":""}